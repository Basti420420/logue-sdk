■0xFF開発メモ


突貫で作成

基本的な挙動は
・ゼロクロス周辺で波形の上下を反転させる（範囲を出ると元の波形に戻る）
という感じです


実動作の内訳は

1. 信号レベルがゼロクロス周辺に入るとTriggerがOn（範囲はPadX指定で±0.0～±0.6くらい）
2. Triggerが入るとAHRのEGが動く（Attck/DecayともにPadY指定で数ms~0msくらい）
3. EGのレベル(0.0～1.0)に応じて原波形と反転波形をmixして出力

という流れ



その他補足事項

・KAOSSで使う場合入力レベルが不安定なためふんわりとしたEnvelope Followerを反転範囲の広さに係数として掛けている
	peak1.0の入力があった場合±0.5までを反転、peak0.5の入力があった場合±0.25までを反転
	ただ、アタックが強い音やドラムループ等peak高めの音と低めの音が交互に来たりするといい感じに鳴らない
	アプデでEFのReleaseを調整できるようにするかも

・EGの挙動をなまらせた状態（Y=0周辺）だと原波形とのmixが追いつかないので音量が下がる

・反転動作のTriggerは今は左右の平均を基準に取ってるけど左右別々で取ったらキモい感じになりそう
	なのでそっちも調整可能にするかも